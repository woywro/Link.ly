generator client {
  provider = "prisma-client-js"
    previewFeatures = ["fullTextSearch"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Collection {
  id         String   @id @default(cuid()) @unique
  value      String 
  valId String @unique
  modificationTimestamp String 
  color String
  owner String
  links Link[]
  shareRequests ShareRequest[]
}

model Link {
  id         String   @id @default(cuid()) @unique
  title      String
  url        String?
  modificationTimestamp String @unique
  owner      String
  collections Collection[]
  history History[]
}

model History {
  id         String   @id @default(cuid())
  linkId  String
  link  Link? @relation(fields: [linkId], references: [id], onDelete: Cascade)
  timestamp String @unique
  owner       String
}

model ShareRequest {
  id String @id @default(cuid()) @unique
  owner      String
  receiver String
  collectionId String
  collection Collection? @relation(fields: [collectionId], references: [id], onDelete: Cascade)
  isAccepted Boolean @default(false)
  createdTimestamp String
  idEmail String @unique
}

